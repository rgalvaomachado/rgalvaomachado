name: Atualizar Calend√°rio Profissional

on:
  schedule:
    # Roda a Action automaticamente uma vez por dia (meia-noite UTC)
    - cron: '0 0 * * *' 
  workflow_dispatch: # Permite rodar manualmente pela aba Actions
    
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Gerar Gr√°fico de Atividade Profissional
        # A vers√£o v1 √© mais est√°vel e deve resolver o erro "Unable to resolve"
        uses: ashutosh00710/github-readme-activity-graph@v1 
        with:
          # Seu username profissional
          USERNAME: romulosuperlogica
          # O Segredo que armazena a permiss√£o de leitura
          TOKEN: ${{ secrets.GH_TOKEN_PROFISSIONAL }} 
          # O arquivo que a Action ir√° gerar
          output_image: "assets/github-activity-graph.svg"
          
      - name: Commit Files (Salvar a nova imagem)
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add -A
          # O comando '|| echo' previne o erro se n√£o houver altera√ß√µes no gr√°fico
          git commit -m "ü§ñ Atualizar Calend√°rio Profissional (Action)" || echo "Nenhuma altera√ß√£o para commitar"
          git push
