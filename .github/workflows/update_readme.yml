name: Atualizar Calend√°rio Profissional

on:
  schedule:
    # Roda a cada 24 horas (meia-noite UTC)
    - cron: '0 0 * * *' 
  workflow_dispatch: # Permite rodar manualmente
    
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Criar pasta assets (se n√£o existir)
        run: mkdir -p assets
        
      - name: Gerar Gr√°fico de Atividade Profissional
        uses: ashutosh00710/github-readme-activity-graph@v2.0.2
        with:
          # O username que queremos puxar os dados (Seu perfil profissional)
          USERNAME: romulosuperlogica
          # O segredo que armazena a permiss√£o de leitura
          TOKEN: ${{ secrets.GH_TOKEN_PROFISSIONAL }}
          # O arquivo de sa√≠da (a imagem que ser√° injetada no README)
          output_image: "assets/github-activity-graph.svg"
          
      - name: Commit Files (Salvar a nova imagem)
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add -A
          git commit -m "ü§ñ Atualizar Calend√°rio Profissional (Action)" || echo "Nenhuma altera√ß√£o para commitar"
          git push
