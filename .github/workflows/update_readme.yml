name: Atualizar Calend치rio Profissional

on:
  schedule:
    # Roda a Action automaticamente uma vez por dia (meia-noite UTC)
    - cron: '0 0 * * *' 
  workflow_dispatch: # Permite rodar manualmente pela aba Actions
    
jobs:
  metrics:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Gerar Gr치fico de Atividade Profissional (Metrics)
        # ESTA 칄 A NOVA ACTION: metrics
        uses: lowlighter/metrics@latest 
        with:
          # TOKEN da sua conta profissional (para acessar dados privados)
          token: ${{ secrets.GH_TOKEN_PROFISSIONAL }}

          # O username que ser치 analisado
          user: romulosuperlogica
          
          # Caminho de sa칤da da imagem (o arquivo que voc칡 j치 criou)
          output_dir: assets 
          output_image: github-activity-graph.svg

          # M칩dulos para exibir apenas o Calend치rio de Contribui칞칚o
          template: classic
          config_timezone: America/Sao_Paulo # Para fuso hor치rio correto
          base: activity # Mostra atividades (o calend치rio de commits)
          
          # Configura칞칚o para for칞ar a visibilidade dos dados privados
          base_activity_owner: yes
          base_activity_limit: 10
          plugin_isocalendar: yes
          
      - name: Commit Files (Salvar a nova imagem)
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add assets/github-activity-graph.svg
          git commit -m "游뱄 Atualizar Calend치rio Profissional (Metrics Action)" || echo "Nenhuma altera칞칚o para commitar"
          git push
