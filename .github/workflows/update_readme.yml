name: Atualizar Calend√°rio Profissional

on:
  schedule:
    # Roda a Action automaticamente uma vez por dia (meia-noite UTC)
    - cron: '0 0 * * *' 
  workflow_dispatch: # Permite rodar manualmente pela aba Actions
    
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Gerar Gr√°fico de Atividade Profissional
        # ESTA √â A CORRE√á√ÉO FINAL, APONTANDO PARA A BRANCH 'main'
        uses: JamesIves/github-activity-readme@main 
        with:
          # Seu username profissional
          USERNAME: romulosuperlogica
          # O Segredo com o Token de Leitura
          TOKEN: ${{ secrets.GH_TOKEN_PROFISSIONAL }} 
          # O arquivo que a Action ir√° gerar
          OUTPUT_PATH: "assets/github-activity-graph.svg"
          
      - name: Commit Files (Salvar a nova imagem)
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add -A
          git commit -m "ü§ñ Atualizar Calend√°rio Profissional (Action)" || echo "Nenhuma altera√ß√£o para commitar"
          git push
